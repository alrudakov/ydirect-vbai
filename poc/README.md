# –Ø–Ω–¥–µ–∫—Å –î–∏—Ä–µ–∫—Ç API ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–π

–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π —á–µ—Ä–µ–∑ API –∏–∑ JSON-–∫–æ–Ω—Ñ–∏–≥–∞.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –ü–æ–ª—É—á–∏ —Ç–æ–∫–µ–Ω
python auth.py
# ‚Üí –ü–µ—Ä–µ–π–¥–∏ –ø–æ —Å—Å—ã–ª–∫–µ, –∞–≤—Ç–æ—Ä–∏–∑—É–π—Å—è, –≤–≤–µ–¥–∏ –∫–æ–¥

# 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –∫–æ–Ω—Ñ–∏–≥
# config/execai_campaign.json

# 3. –ó–∞–ø—É—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ
python run_campaign.py config/execai_campaign.json
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
poc/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ execai_campaign.json   # ‚Üê –¢–≤–æ–π –∫–æ–Ω—Ñ–∏–≥ –∫–∞–º–ø–∞–Ω–∏–∏
‚îú‚îÄ‚îÄ assets/                     # –í–∏–¥–µ–æ –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ logs/                       # –õ–æ–≥–∏ –∑–∞–ø—É—Å–∫–æ–≤
‚îú‚îÄ‚îÄ auth.py                     # OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ api_client.py               # API –∫–ª–∏–µ–Ω—Ç –Ø–Ω–¥–µ–∫—Å –î–∏—Ä–µ–∫—Ç
‚îú‚îÄ‚îÄ run_campaign.py             # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è
‚îî‚îÄ‚îÄ campaigns.py                # –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–∞–º–ø–∞–Ω–∏–π
```

## –ö–æ–Ω—Ñ–∏–≥ –∫–∞–º–ø–∞–Ω–∏–∏

–†–µ–¥–∞–∫—Ç–∏—Ä—É–π `config/execai_campaign.json`:

```json
{
  "campaign": {
    "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏",
    "start_date": "2026-01-25",
    "daily_budget_rub": 500
  },
  "ad_group": {
    "name": "–ì—Ä—É–ø–ø–∞",
    "regions": [225],
    "keywords": ["–∫–ª—é—á 1", "–∫–ª—é—á 2"]
  },
  "ads": [
    {
      "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ 1",
      "title2": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ 2",
      "text": "–¢–µ–∫—Å—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è",
      "href": "https://—Ç–≤–æ–π-—Å–∞–π—Ç.ru"
    }
  ]
}
```

## –§–ª–∞–≥–∏ –∑–∞–ø—É—Å–∫–∞

```bash
# –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫
python run_campaign.py config/execai_campaign.json

# –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (sandbox)
python run_campaign.py config/execai_campaign.json --sandbox

# –ë–µ–∑ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (–¥–ª—è —Ç–µ—Å—Ç–æ–≤)
python run_campaign.py config/execai_campaign.json --no-mod
```

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. ‚úÖ –°–æ–∑–¥–∞—ë—Ç –∫–∞–º–ø–∞–Ω–∏—é
2. ‚úÖ –°–æ–∑–¥–∞—ë—Ç –≥—Ä—É–ø–ø—É –æ–±—ä—è–≤–ª–µ–Ω–∏–π  
3. ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
4. ‚úÖ –°–æ–∑–¥–∞—ë—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
5. ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é
6. üíæ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ `logs/`

## –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏

```bash
python campaigns.py
```

## API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–û–±–∑–æ—Ä API v5](https://yandex.ru/dev/direct/doc/ru/concepts/overview)
- [Campaigns](https://yandex.ru/dev/direct/doc/ru/ref-v5/campaigns/add)
- [AdGroups](https://yandex.ru/dev/direct/doc/ru/ref-v5/adgroups/add)
- [Ads](https://yandex.ru/dev/direct/doc/ru/ref-v5/ads/add)
- [Keywords](https://yandex.ru/dev/direct/doc/ru/ref-v5/keywords/add)

